df_c=df
df_c$pm2_5=NULL
df_c$date=NULL
head(df_c)
for(i in 1:7){
x=sum(is.na(df_c[i]))
print(paste(names(df_c[i]),x))}
for(i in 1:6){
x=sum(is.na(df_c[i]))
print(paste(names(df_c[i]),x))}
df_c$type[is.na(df$so2)]= mean(df_c$so2, na.rm = TRUE)
df_c$type[is.na(df$no2)]= mean(df_c$no2, na.rm = TRUE)
df_c$type[is.na(df$rspm)]= mean(df_c$rspm, na.rm = TRUE)
df_c$type[is.na(df$spm)]= mean(df_c$spm, na.rm = TRUE)
df_c <- df_c %>% na.omit(df_c)
for(i in 1:6){
x=sum(is.na(df_c[i]))
print(paste(names(df_c[i]),x))}
df_ts=subset(df, !is.na(pm2_5))
head(df_ts)
str(df_ts)
for(i in 1:7){
x=sum(is.na(df_ts[i]))
print(paste(names(df_ts[i]),x))}
for(i in 1:8){
x=sum(is.na(df_ts[i]))
print(paste(names(df_ts[i]),x))}
plotdata <- df %>%
group_by(type) %>%
summarize(mean_1 = mean(so2))
plot1=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "So2 by area type", y = "Mean of SO2", x ="Area Type")
plotdata <- df %>%
group_by(type) %>%
summarize(mean_1 = mean(no2))
plot2=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "No2 by area type", y = "Mean of NO2", x ="Area Type")
plotdata <- df%>%
group_by(type) %>%
summarize(mean_1 = mean(rspm))
plot3=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "RSPM by area type", y = "Mean of RSPM", x ="Area Type")
plotdata <- df %>%
group_by(type) %>%
summarize(mean_1 = mean(spm))
plot4=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "SPM by area type", y = "Mean of SPM", x ="Area Type")
grid.newpage()
pushViewport(viewport(layout = grid.layout(2, 2)))
print(plot1, vp = vplayout(1, 1))
print(plot2, vp = vplayout(1, 2))
print(plot3, vp = vplayout(2, 1))
print(plot4, vp = vplayout(2, 2))
main_dir<- dirname(dirname(rstudioapi::getSourceEditorContext()$path))
datadir<- paste0(main_dir,"/data")
data_path<- paste0(datadir,"/data.csv")
df=read.csv(data_path)
head(df)
str(df)
summary(df)
df$sampling_date=NULL
df$stn_code=NULL
df$agency=NULL
df$location_monitoring_station=NULL
df$location=NULL
head(df)
plotdata <- df %>%
count(state) %>%
mutate(pct = n / sum(n),
pctlabel = paste0(round(pct*100), "%"))
ggplot(plotdata, aes(x=reorder(state, n),y=pct)) +
geom_bar(stat = "identity", fill = "lightgreen") +
geom_text(aes(label = pctlabel), vjust = -0.25) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
scale_y_continuous(labels = percent) +
labs(y = "Percentage",x="State", title = "Percentage of Recording From Each State")
plotdata <- df %>%
count(type) %>%
mutate(pct = n / sum(n),
pctlabel = paste0(round(pct*100), "%"))
ggplot(plotdata, aes(x = reorder(type, n), y=pct)) +
geom_bar(stat = "identity", fill = "lightgreen") +
geom_text(aes(label = pctlabel), vjust = -0.25) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
scale_y_continuous(labels = percent) +
labs(y = "Percentage", x="Area Type", title = "Percentage of Recording From Each Type of Area")
df$type[df$type %in% "Residential, Rural and other Areas"] <- "Residential"
df$type[df$type %in% "Residential and others"] <- "Residential"
df$type[df$type %in% "Industrial Area"] <- "Industrial"
df$type[df$type %in% "Industrial Areas"] <- "Industrial"
df$type[df$type %in% "RIRUO"] <- "Others"
df$type[df$type %in% "Sensitive"] <- "Others"
df$type[df$type %in% "Sensitive Areas"] <- "Others"
df$type[df$type %in% "Sensitive Area"] <- "Others"
df$type[is.na(df$type)]= "Others"
plotdata <- df %>%
count(type) %>%
mutate(pct = n / sum(n),
pctlabel = paste0(round(pct*100), "%"))
p1<-ggplot(plotdata, aes(x = reorder(type, n), y=pct)) +
geom_bar(stat = "identity", fill = "lightgreen") +
geom_text(aes(label = pctlabel), vjust = -0.25) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
scale_y_continuous(labels = percent) +
labs(y = "Percentage", x="Area Type", title = "Percentage of Recording From Each Type of Area")
p1
plot1=ggplot(df, aes(x = so2)) +
geom_histogram(binwidth=0.1, breaks= seq(0,100), colour="black", fill = "lightgreen")
plot2=ggplot(df, aes(x = no2)) +
geom_histogram(binwidth=1, breaks= seq(0,200),colour="black", fill = "lightgreen")
plot3=ggplot(df, aes(x = rspm)) +
geom_histogram(binwidth=100,  breaks= seq(0,500), fill = "lightgreen")
plot4=ggplot(df, aes(x = spm)) +
geom_histogram(binwidth=100, breaks= seq(0,1000) ,fill = "lightgreen")
plot5=ggplot(df, aes(x = pm2_5)) +
geom_histogram(binwidth=0.5, breaks= seq(0,300), colour="black", fill = "lightgreen")
grid.newpage()
vplayout <- function(x, y) viewport(layout.pos.row = x, layout.pos.col = y)
pushViewport(viewport(layout = grid.layout(5, 1)))
print(plot1, vp = vplayout(1, 1))
print(plot2, vp = vplayout(2, 1))
print(plot3, vp = vplayout(3, 1))
print(plot4, vp = vplayout(4, 1))
print(plot5, vp = vplayout(5, 1))
plotdata <- df %>%
group_by(state) %>%
summarize(mean_1 = mean(so2))
plot1=ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "So2 by state", y = "Mean of SO2", x ="State")
plotdata <- df %>%
group_by(state) %>%
summarize(mean_1 = mean(no2))
plot2=ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "No2 by state", y = "Mean of NO2", x ="State")
plotdata <- df  %>%
group_by(state) %>%
summarize(mean_1 = mean(rspm))
plot3 = ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "RSPM by state", y = "Mean of RSPM", x ="State")
plotdata <- df  %>%
group_by(state) %>%
summarize(mean_1 = mean(spm))
plot4=ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "SPM by state", y = "Mean of SPM", x ="State")
grid.newpage()
pushViewport(viewport(layout = grid.layout(2, 2)))
print(plot1, vp = vplayout(1, 1))
print(plot2, vp = vplayout(1, 2))
print(plot3, vp = vplayout(2, 1))
print(plot4, vp = vplayout(2, 2))
df_ts=subset(df, !is.na(pm2_5))
head(df_ts)
str(df_ts)
for(i in 1:8){
x=sum(is.na(df_ts[i]))
print(paste(names(df_ts[i]),x))}
df_ts$so2[is.na(df_ts$so2)]= mean(df_ts$so2, na.rm = TRUE)
df_ts$no2[is.na(df_ts$no2)]= mean(df_ts$no2, na.rm = TRUE)
df_ts$rspm[is.na(df_ts$rspm)]= mean(df_ts$rspm, na.rm = TRUE)
df_ts$spm=NULL
for(i in 1:7){
x=sum(is.na(df_ts[i]))
print(paste(names(df_ts[i]),x))}
df_ts$date<-as.Date(df_ts$date, "%Y-%m-%d")
df_ts=df_ts[(order(df_ts$date,decreasing=FALSE)),]
#check the data of noPmNA
table(df_ts$state)
#split the dataset
splitByState <- split(df_ts, df_ts$state)
str(splitByState)
library(ggplot2)
for (i in 1:length(splitByState)){
loopdata<-splitByState[[i]]
#print(loopdata)
#print(as.character(names(splitByState[i])))
#draw graph
print(ggplot() +geom_line(data = loopdata,aes(x = date,y = pm2_5,colour = "pm2_5"),size=1) +
geom_line(data = loopdata,aes(x = date,y = so2,colour = "so2"),size=1) +
geom_line(data = loopdata,aes(x = date,y = no2,colour = "no2"),size=1) +
geom_line(data = loopdata,aes(x = date,y = rspm,colour = "rspm"),size=1) +
ggtitle(paste("State:",as.character(names(splitByState[i])))) +
theme(plot.title = element_text(hjust = 0.5)) +
scale_colour_manual("",values = c("pm2_5" = "red","so2"="green","no2"="blue","rspm"="yellow"))+
xlab("Date")+ylab("Pollution"))
}
library(ggplot2)
library(dplyr)
library(scales)
library(grid)
library(tidyr)
library(rstudioapi)
library(tidyverse)
library(lubridate,magrittr)
library(ggfortify)
library(tseries)
library('vars')
library('quantmod')
library(LINselect)
library(forecast)
main_dir<- dirname(dirname(rstudioapi::getSourceEditorContext()$path))
datadir<- paste0(main_dir,"/data")
data_path<- paste0(datadir,"/data.csv")
df=read.csv(data_path)
head(df)
str(df)
summary(df)
df$sampling_date=NULL
df$stn_code=NULL
df$agency=NULL
df$location_monitoring_station=NULL
df$location=NULL
head(df)
plotdata <- df %>%
count(state) %>%
mutate(pct = n / sum(n),
pctlabel = paste0(round(pct*100), "%"))
ggplot(plotdata, aes(x=reorder(state, n),y=pct)) +
geom_bar(stat = "identity", fill = "lightgreen") +
geom_text(aes(label = pctlabel), vjust = -0.25) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
scale_y_continuous(labels = percent) +
labs(y = "Percentage",x="State", title = "Percentage of Recording From Each State")
plotdata <- df %>%
count(type) %>%
mutate(pct = n / sum(n),
pctlabel = paste0(round(pct*100), "%"))
ggplot(plotdata, aes(x = reorder(type, n), y=pct)) +
geom_bar(stat = "identity", fill = "lightgreen") +
geom_text(aes(label = pctlabel), vjust = -0.25) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
scale_y_continuous(labels = percent) +
labs(y = "Percentage", x="Area Type", title = "Percentage of Recording From Each Type of Area")
df$type[df$type %in% "Residential, Rural and other Areas"] <- "Residential"
df$type[df$type %in% "Residential and others"] <- "Residential"
df$type[df$type %in% "Industrial Area"] <- "Industrial"
df$type[df$type %in% "Industrial Areas"] <- "Industrial"
df$type[df$type %in% "RIRUO"] <- "Others"
df$type[df$type %in% "Sensitive"] <- "Others"
df$type[df$type %in% "Sensitive Areas"] <- "Others"
df$type[df$type %in% "Sensitive Area"] <- "Others"
df$type[is.na(df$type)]= "Others"
plotdata <- df %>%
count(type) %>%
mutate(pct = n / sum(n),
pctlabel = paste0(round(pct*100), "%"))
p1<-ggplot(plotdata, aes(x = reorder(type, n), y=pct)) +
geom_bar(stat = "identity", fill = "lightgreen") +
geom_text(aes(label = pctlabel), vjust = -0.25) +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
scale_y_continuous(labels = percent) +
labs(y = "Percentage", x="Area Type", title = "Percentage of Recording From Each Type of Area")
p1
plot1=ggplot(df, aes(x = so2)) +
geom_histogram(binwidth=0.1, breaks= seq(0,100), colour="black", fill = "lightgreen")
plot2=ggplot(df, aes(x = no2)) +
geom_histogram(binwidth=1, breaks= seq(0,200),colour="black", fill = "lightgreen")
plot3=ggplot(df, aes(x = rspm)) +
geom_histogram(binwidth=100,  breaks= seq(0,500), fill = "lightgreen")
plot4=ggplot(df, aes(x = spm)) +
geom_histogram(binwidth=100, breaks= seq(0,1000) ,fill = "lightgreen")
plot5=ggplot(df, aes(x = pm2_5)) +
geom_histogram(binwidth=0.5, breaks= seq(0,300), colour="black", fill = "lightgreen")
grid.newpage()
vplayout <- function(x, y) viewport(layout.pos.row = x, layout.pos.col = y)
pushViewport(viewport(layout = grid.layout(5, 1)))
print(plot1, vp = vplayout(1, 1))
print(plot2, vp = vplayout(2, 1))
print(plot3, vp = vplayout(3, 1))
print(plot4, vp = vplayout(4, 1))
print(plot5, vp = vplayout(5, 1))
df_ts=subset(df, !is.na(pm2_5))
head(df_ts)
str(df_ts)
for(i in 1:8){
x=sum(is.na(df_ts[i]))
print(paste(names(df_ts[i]),x))}
df_ts$so2[is.na(df_ts$so2)]= mean(df_ts$so2, na.rm = TRUE)
df_ts$no2[is.na(df_ts$no2)]= mean(df_ts$no2, na.rm = TRUE)
df_ts$rspm[is.na(df_ts$rspm)]= mean(df_ts$rspm, na.rm = TRUE)
df_ts$spm=NULL
for(i in 1:7){
x=sum(is.na(df_ts[i]))
print(paste(names(df_ts[i]),x))}
df_ts$date<-as.Date(df_ts$date, "%Y-%m-%d")
df_ts=df_ts[(order(df_ts$date,decreasing=FALSE)),]
df_ts$date<-as.Date(df_ts$date, "%Y-%m-%d")
df_ts=df_ts[(order(df_ts$date,decreasing=FALSE)),]
#write.csv(df_ts,"data_ts.csv", row.names=FALSE)
#check the data of noPmNA
table(df_ts$state)
#split the dataset
splitByState <- split(df_ts, df_ts$state)
str(splitByState)
library(ggplot2)
for (i in 1:length(splitByState)){
loopdata<-splitByState[[i]]
#print(loopdata)
#print(as.character(names(splitByState[i])))
#draw graph
print(ggplot() +geom_line(data = loopdata,aes(x = date,y = pm2_5,colour = "pm2_5"),size=1) +
geom_line(data = loopdata,aes(x = date,y = so2,colour = "so2"),size=1) +
geom_line(data = loopdata,aes(x = date,y = no2,colour = "no2"),size=1) +
geom_line(data = loopdata,aes(x = date,y = rspm,colour = "rspm"),size=1) +
ggtitle(paste("State:",as.character(names(splitByState[i])))) +
theme(plot.title = element_text(hjust = 0.5)) +
scale_colour_manual("",values = c("pm2_5" = "red","so2"="green","no2"="blue","rspm"="yellow"))+
xlab("Date")+ylab("Pollution"))
}
data = df_ts
Madhya_Pradesh = data[which (data$state == 'Madhya Pradesh'), ]
Madhya_Pradesh = subset(data, select = -c(state,type))
Madhya_Pradesh$day <- floor_date(Madhya_Pradesh$date, "day")
Madhya_Pradesh = aggregate(cbind(so2,no2,rspm,pm2_5) ~ day, data = Madhya_Pradesh, FUN = mean, na.rm = TRUE)
MP_train= Madhya_Pradesh[1:697, ]
MP_train=subset(MP_train,select = -c(day))
MP_test= Madhya_Pradesh[698:727, ]
#as.numeric(as.Date("2014-01-01") - as.Date("2014-01-01"))
MP_train=ts(MP_train,start = c(2014,0),frequency = 365)
autoplot(MP_train) +
ggtitle("Time Series Plot of the Madhaya Pradesh Time-Series") +
theme(plot.title = element_text(hjust = 0.5))
df_c=df
data_c_path = paste0(datadir, "/data_c.csv")
write.csv(df_c, data_c_path, row.names=FALSE)
df_c$pm2_5=NULL
df_c$date=NULL
head(df_c)
for(i in 1:6){
x=sum(is.na(df_c[i]))
print(paste(names(df_c[i]),x))}
df_c$so2[is.na(df_c$so2)]= mean(df_c$so2, na.rm = TRUE)
df_c$no2[is.na(df_c$no2)]= mean(df_c$no2, na.rm = TRUE)
df_c$rspm[is.na(df_c$rspm)]= mean(df_c$rspm, na.rm = TRUE)
df_c$spm[is.na(df_c$spm)]= mean(df_c$spm, na.rm = TRUE)
df_c <- df_c %>% na.omit(df_c)
for(i in 1:6){
x=sum(is.na(df_c[i]))
print(paste(names(df_c[i]),x))}
head(df_c)
str(df_c)
df_c=df
data_c_path = paste0(datadir, "/data_c.csv")
df_c$pm2_5=NULL
df_c$date=NULL
head(df_c)
for(i in 1:6){
x=sum(is.na(df_c[i]))
print(paste(names(df_c[i]),x))}
df_c$so2[is.na(df_c$so2)]= mean(df_c$so2, na.rm = TRUE)
df_c$no2[is.na(df_c$no2)]= mean(df_c$no2, na.rm = TRUE)
df_c$rspm[is.na(df_c$rspm)]= mean(df_c$rspm, na.rm = TRUE)
df_c$spm[is.na(df_c$spm)]= mean(df_c$spm, na.rm = TRUE)
df_c <- df_c %>% na.omit(df_c)
for(i in 1:6){
x=sum(is.na(df_c[i]))
print(paste(names(df_c[i]),x))}
head(df_c)
str(df_c)
plotdata <- df_c %>%
group_by(state) %>%
summarize(mean_1 = mean(so2))
plot1=ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "So2 by state", y = "Mean of SO2", x ="State")
plotdata <- df_c %>%
group_by(state) %>%
summarize(mean_1 = mean(no2))
plot2=ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "No2 by state", y = "Mean of NO2", x ="State")
plotdata <- df_c  %>%
group_by(state) %>%
summarize(mean_1 = mean(rspm))
plot3 = ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "RSPM by state", y = "Mean of RSPM", x ="State")
plotdata <- df_c  %>%
group_by(state) %>%
summarize(mean_1 = mean(spm))
plot4=ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "SPM by state", y = "Mean of SPM", x ="State")
grid.newpage()
pushViewport(viewport(layout = grid.layout(2, 2)))
print(plot1, vp = vplayout(1, 1))
print(plot2, vp = vplayout(1, 2))
print(plot3, vp = vplayout(2, 1))
print(plot4, vp = vplayout(2, 2))
plotdata <- df_c %>%
group_by(state) %>%
summarize(mean_1 = mean(so2))
ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))+
labs(title = "So2 by state", y = "Mean of SO2", x ="State")
plotdata <- df_c %>%
group_by(state) %>%
summarize(mean_1 = mean(no2))
ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))+
labs(title = "No2 by state", y = "Mean of NO2", x ="State")
plotdata <- df_c  %>%
group_by(state) %>%
summarize(mean_1 = mean(rspm))
ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))+
labs(title = "RSPM by state", y = "Mean of RSPM", x ="State")
plotdata <- df_c  %>%
group_by(state) %>%
summarize(mean_1 = mean(spm))
ggplot(plotdata, aes(x = reorder(state, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 90, hjust = 1))+
labs(title = "SPM by state", y = "Mean of SPM", x ="State")
#grid.newpage()
#pushViewport(viewport(layout = grid.layout(2, 2)))
#print(plot1, vp = vplayout(1, 1))
#print(plot2, vp = vplayout(1, 2))
#print(plot3, vp = vplayout(2, 1))
#print(plot4, vp = vplayout(2, 2))
plotdata <- df_c %>%
group_by(type) %>%
summarize(mean_1 = mean(so2))
plot1=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "So2 by area type", y = "Mean of SO2", x ="Area Type")
plotdata <- df_c %>%
group_by(type) %>%
summarize(mean_1 = mean(no2))
plot2=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "No2 by area type", y = "Mean of NO2", x ="Area Type")
plotdata <- df_c %>%
group_by(type) %>%
summarize(mean_1 = mean(rspm))
plot3=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "RSPM by area type", y = "Mean of RSPM", x ="Area Type")
plotdata <- df_c %>%
group_by(type) %>%
summarize(mean_1 = mean(spm))
plot4=ggplot(plotdata, aes(x = reorder(type, mean_1), y = mean_1)) +
geom_bar(stat = "identity", fill = "cornflowerblue") +
theme(axis.text.x = element_text(angle = 45, hjust = 1))+
labs(title = "SPM by area type", y = "Mean of SPM", x ="Area Type")
grid.newpage()
pushViewport(viewport(layout = grid.layout(2, 2)))
print(plot1, vp = vplayout(1, 1))
print(plot2, vp = vplayout(1, 2))
print(plot3, vp = vplayout(2, 1))
print(plot4, vp = vplayout(2, 2))
pairs(~ so2 + no2 + rspm + spm, data=df_c, col = 'blue')
plot(df_c)
plot1=ggplot(df, aes(x = so2)) +
geom_histogram(binwidth=0.1, breaks= seq(0,100), colour="black", fill = "lightgreen")
plot2=ggplot(df, aes(x = no2)) +
geom_histogram(binwidth=1, breaks= seq(0,200),colour="black", fill = "lightgreen")
plot3=ggplot(df, aes(x = rspm)) +
geom_histogram(binwidth=100,  breaks= seq(0,500), fill = "lightgreen")
plot4=ggplot(df, aes(x = spm)) +
geom_histogram(binwidth=100, breaks= seq(0,1000) ,fill = "lightgreen")
plot5=ggplot(df, aes(x = pm2_5)) +
geom_histogram(binwidth=0.5, breaks= seq(0,300), colour="black", fill = "lightgreen")
grid.newpage()
vplayout <- function(x, y) viewport(layout.pos.row = x, layout.pos.col = y)
pushViewport(viewport(layout = grid.layout(5, 1)))
print(plot1, vp = vplayout(1, 1))
print(plot2, vp = vplayout(2, 1))
print(plot3, vp = vplayout(3, 1))
print(plot4, vp = vplayout(4, 1))
print(plot5, vp = vplayout(5, 1))
#pairs(~ so2 + no2 + rspm + spm, data=df_c, col = 'blue')
#plot(df_c)
![correlation plot](C:/Users/Acer/Dropbox/PC/Documents/Master of Data Science/WQD7004 Programming for Data Science/wqd7004-group-project/R_files/Report_files/figure-html/plot correlation-1.png)
#pairs(~ so2 + no2 + rspm + spm, data=df_c, col = 'blue')
#plot(df_c)
![correlation.](C:/Users/Acer/Dropbox/PC/Documents/Master of Data Science/WQD7004 Programming for Data Science/wqd7004-group-project/R_files/Report_files/figure-html/plot correlation-1.png)
#pairs(~ so2 + no2 + rspm + spm, data=df_c, col = 'blue')
#plot(df_c)
knitr::include_graphics("plot correlation-1.png")
#pairs(~ so2 + no2 + rspm + spm, data=df_c, col = 'blue')
#plot(df_c)
knitr::include_graphics("plot correlation-1.png")
#pairs(~ so2 + no2 + rspm + spm, data=df_c, col = 'blue')
#plot(df_c)
knitr::include_graphics("plot correlation-1.png")
knitr::include_graphics("plot correlation-2.png")
